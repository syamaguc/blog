---
title: 競馬との向き合い方
author: syamaguc
pubDatetime: 2024-09-01T00:00:00Z
modDatetime:
postSlug: horse-racing
featured: false
draft: false
tags:
  - 競馬
description: 期待値を追う
---

## Table of Contents

## 思考プロセス

自分なりのギャンブルとの向き合い方

- 期待値をどれだけ正確に算定出来るか(予測)
- 破産確率をどれだけ最小に抑えることが出来るか(資金管理)

## 期待値

当たり前だが、

| 勝率 | オッズ | 期待値 |
| ---- | ------ | ------ |
| 80%  | 1.2    | 0.96   |
| 50%  | 2      | 1      |
| 10%  | 15     | 1.5    |
| 1%   | 150    | 1.5    |

の選択肢がある場合、試行回数を無限と過程するのであれば`オッズ15倍で勝率10%の馬`を買い続けることが統計学的には正しい。
もちろん勝率なんか事前には分からない、それについて考えるのが競馬の予想である。

`オッズ150倍で勝率1%の馬`の期待値は`オッズ15倍で勝率10%の馬`と同様だが、後述の(バルサラの破産確率)を考えると同じ期待値であれば、勝率が高い方を選択するほうが望ましい。

なので競馬で勝つとは、`各馬の勝率をどれだけ正確に算定し、直前オッズと照らし合せ、リスク(破産確立)を抑えながら、最も期待値の高い選択を続けることが出来るか？`というゲームになる。
なのでレースの結果を点でみても意味はない。各レースを統計的に線で捉え、長期的に平均してどれだけのリターンを生んでいるか？という点が重要になる。

## バルサラの破産確率

仮に以下のようなレースがあったとする。勝率の仮説が正しいのであればこの馬は絶対に買いだが、どれくらいの資金を賭けるのが妥当だろうか？

| 勝率 | オッズ | 期待値 |
| ---- | ------ | ------ |
| 60%  | 2.5    | 1.5    |

仮にこのレースに全財産をベットすると、40%の確率で破産することになる、それは困る。

資金の50%をこのようなチャンスに2回に分けてベットしても、運悪く2回連続で40%を引くと(16%の確率)破産することになる。全然有り得ない話ではない。

では期待値を取りつつ、破産確立を最小に出来る適切な賭け金は資金全体の何%だろう、と考えるのがバルサラの破産確率である。(短期トレードや自動売買botの開発等でよく使われる)

以下のように同じ1.5の期待値のギャンブルでも賭け金の比率を変えると長期的に破産確率は大きく変わる。

| 賭け金比率 | 予測勝率 | オッズ | 期待値 | 破産確率 |
| ---------- | -------- | ------ | ------ | -------- |
| 100%       | 60%      | 2.5    | 1.5    | 51.32％  |
| 50%        | 60%      | 2.5    | 1.5    | 26.34%   |
| 25%        | 60%      | 2.5    | 1.5    | 6.94%    |
| 10%        | 60%      | 2.5    | 1.5    | 0.13%    |

前述の勝率が違う、同じ期待値のギャンブルがある場合、当たり前だが破産確率を考慮すると勝率が高い方にベットする方がいいことは間違いない。

| 賭け金比率 | 予測勝率 | オッズ | 期待値 | 破産確率 |
| ---------- | -------- | ------ | ------ | -------- |
| 5%         | 60%      | 2.5    | 1.5    | 0.00..%  |
| 5%         | 10%      | 15     | 1.5    | 24.94%   |
| 5%         | 1%       | 150    | 1.5    | 88.8%    |

## オッズ

競馬の玄人が単勝または複勝のみしか買わない、と言われる理由は上記の期待値の計算が簡易だという理由が大きいのではないかと思う。

もちろん、不確定要素を減らせるという理由もあると思うが。

連系の馬券を複数購入する場合、合成オッズの概念が入ってくるため、正確に期待値を算出出来ない、という人は多いだろう。

合成オッズとは、`馬券を複数買った際の全てのオッズを複合したもののこと`、もちろん一点買いであればそのオッズが合成オッズになる。
例えば、オッズが4倍と10倍の単勝馬券を均等な金額購入する場合、合成オッズは2.86倍となる。

> 合成オッズ = 1 / (1/4 + 1/10 + ...)

破産確率を抑えながら試行回数を増やすことで、短期的な統計のブレに左右されず、長期的に期待値の収束を待つことができる。

## 次回

とりあえず期待値に対する考え方は分かって頂けたかと思う。

次回は実際に、どのようにして正確な期待値を算出するか？というテーマで書いてみたいと思う。
